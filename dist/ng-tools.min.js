angular.module("ng-tools",[]),angular.module("ng-tools").factory("debounce",["$timeout",function(a){function b(b,c,d){c=angular.isUndefined(c)?0:c,d=angular.isUndefined(d)?!0:d;var e=0;return function(){var f=this,g=arguments;e++;var h=function(a){return function(){return a===e?b.apply(f,g):void 0}}(e);return a(h,c,d)}}return b}]),angular.module("ng-tools").directive("ntIncludeInScope",["$http","$templateCache","$anchorScroll","$compile","$animate",function(a,b,c,d,e){return{restrict:"ECA",terminal:!0,compile:function(f,g){var h=g.onload||"",i=g.autoscroll;return function(f,j){var k=0,l=function(a){j.html(a),d(j.contents())(f),!angular.isDefined(i)||i&&!f.$eval(i)||c(),f.$emit("$includeContentLoaded"),f.$eval(h)},m=function(){e.leave(j),j.html("")};if(g.includeInScope){var n=f.$eval(g.includeInScope);l(n)}else f.$watch(function(){return f.$eval(g.src)},function(c){var d=++k;c?a.get(c,{cache:b}).success(function(a){d===k&&l(a)}).error(function(){d===k&&m()}):m()})}}}}]),angular.module("ng-tools").factory("Set",function(){function a(a){this.hashFn=a||JSON.stringify,this.values={},this.size=0}return a.prototype={add:function(a){var b=!this.contains(a);return b&&(this.values[this.hashFn(a)]=a,this.size++),b},addReplace:function(a){var b=this.remove(a);return this.add(a),b},getValue:function(a){var b=this.hashFn(a);return this.values.hasOwnProperty(b)?this.values[b]:null},remove:function(a){var b=this.contains(a);return b&&(delete this.values[this.hashFn(a)],this.size--),b},contains:function(a){return"undefined"!=typeof this.values[this.hashFn(a)]},size:function(){return this.size},each:function(a,b){for(var c in this.values){var d=b||this.values[c];a.call(d,this.values[c])}},toArray:function(){var a=[];for(var b in this.values)a.push(this.values[b]);return a}},a}),angular.module("ng-tools").factory("StoredSet",function(a,b,c){function d(d){var e=this;return d.storageKey?(angular.extend(e,d),this.set=new a(e.hashFn),this.onInit(b.get(e.storageKey)),void 0):(c.error("storageKey property must be provided for storedSet"),void 0)}return d.prototype={add:function(a,b){var c=this.set.add(a);return this.onAdd(a,c),c&&this.save(b),c},addReplace:function(a,b){var c=this.set.addReplace(a);return this.onAdd(a,c),this.save(b),!c},remove:function(a){var b=this.set.remove(a);return b&&(this.save(),this.onRemove(a)),b},each:function(){return this.set.each.apply(this.set,arguments)},toArray:function(){return this.set.toArray()},save:function(a){!a&&b.set(this.storageKey,angular.copy(this.toArray()))},onAdd:function(){},onRemove:function(){},onInit:function(a){a&&Array.isArray(a)&&a.forEach(angular.bind(this,function(a){this.add(a,!0)}))}},d});